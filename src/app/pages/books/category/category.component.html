<mat-list style="padding-top:0px">
    <mat-list-item *ngFor="let category of (categories$ | async)"
                   (click)="select(category.id)"
                   [class.selected]="selectedId == category.id"
                   style="height:auto;min-height:48px"
                   fxLayout="column"
                   fxLayoutAlign="center none">
        <span *ngIf="!(edit$ | async)" class="item">
            {{ category.title }}
        </span>
        <div *ngIf="edit$ | async" fxLayout="rows">
            <button mat-icon-button (click)="delete(category.id, $event)" style="color:lightgray">
                <mat-icon>close</mat-icon>
            </button>
            <input class="edit transparent-background"
                    [(ngModel)]="category.title"
                    placeholder="Name"
                    (ngModelChange)="edit(category)"/>
        </div>
    </mat-list-item>

    <mat-list-item *ngIf="edit$ | async">
        <button mat-icon-button
                style="color:lightgray"
                (click)="add(new.value); new.value = ''">
            <mat-icon>add</mat-icon>
        </button>
        <input class="edit tranparent-background"
                #new
                placeholder="Category"
                (keydown.enter)="add(new.value); new.value = ''"/>
    </mat-list-item>
</mat-list>
